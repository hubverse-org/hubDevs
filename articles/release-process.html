<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to the release process • hubDevs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="release-process_files/libs/quarto-html/popper.min.js"></script><script src="release-process_files/libs/quarto-html/tippy.umd.min.js"></script><link href="release-process_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="release-process_files/libs/quarto-html/light-border.css" rel="stylesheet">
<script src="release-process_files/libs/quarto-diagram/mermaid.min.js"></script><script src="release-process_files/libs/quarto-diagram/mermaid-init.js"></script><link href="release-process_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the release process">
<meta property="og:image" content="https://hubverse-org.github.io/hubDevs/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://hubdocs.readthedocs.io/en/latest/" class="external-link"><img src="https://raw.githubusercontent.com/hubverse-org/hubStyle/main/inst/hubverse.png" id="logo" height="30" alt="hubverse"></a>
    <a class="navbar-brand me-2" href="../index.html">hubDevs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/release-process.html">Introduction to the release process</a></li>
    <li><a class="dropdown-item" href="../articles/hotfixes.html">Releasing Hotfixes</a></li>
    <li><a class="dropdown-item" href="../articles/release-checklists.html">Release Checklists</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hubverse-org/hubDevs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to the release process</h1>




      <small class="dont-index">Source: <a href="https://github.com/hubverse-org/hubDevs/blob/main/vignettes/release-process.qmd" class="external-link"><code>vignettes/release-process.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>Parts of this document is adapted for The Hubverse from <a href="https://carpentries.github.io/workbench-dev/releases.html" class="external-link">The Carpentries Developer’s Handbook</a> (c) The Carpentries under the <a href="https://creativecommons.org/licenses/by/4.0/" class="external-link">CC-BY 4.0 license</a>.</p>
<p><strong>Looking for a checklist?<br>
Check out <code><a href="../articles/release-checklists.html">vignette("release-checklists", package = "hubDevs")</a></code>.</strong></p>
<section class="level2"><h2 id="executive-summary">Executive Summary<a class="anchor" aria-label="anchor" href="#executive-summary"></a>
</h2>
<p>The release process is now a general workflow that can help to reduce the size of pull requests:</p>
<ol type="1">
<li>Iterate on small bug fixes and PRs on branches, merging into main as a stable development branch</li>
<li>When ready, bump the version, add an annotated git tag, and release</li>
<li>Bump the version in <code>main</code> back to a development version</li>
</ol>
<p>Some of the steps in these instructions are specific for R packages, but they are largely process-based and can apply to Python packages as well.</p>
</section><section class="level2"><h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>As of August 2024, the hubverse packages are available on the <a href="https://hubverse-org.r-universe.dev/" class="external-link">Hubverse R-Universe</a> and new versions are checked for hourly. This allows users to get up-to-date versions of The Hubverse packages built for their system without running out of GitHub API query attempts.</p>
<p>In order to maintain quality, packages are only sent to the R-Universe if they have been formally released on GitHub (<a href="https://github.com/hubverse-org/hubverse-org.r-universe.dev/blob/HEAD/packages.json#L16-L33" class="external-link">as specified in the packages.json configuration file</a>). This allows us to incrementally add new experimental, non-breaking features without changing the stable deployments.</p>
<section class="level3"><h3 id="before">Before the R-Universe<a class="anchor" aria-label="anchor" href="#before"></a>
</h3>
<p>Before we had the R-universe, <strong>each pull request merged to the <code>main</code> branch effectively meant the release of a new version</strong>. Ideally, this meant that our Git history would look like a series of adjacent belt loops:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">gitGraph
    commit id: "abcd"
    commit id: "efgh (0.14.0)"
    branch feature1
    checkout main
    checkout feature1
    commit id: "ijkl"
    commit id: "mnop"
    checkout main
    merge feature1 id: "gpne (0.14.1)"
    branch feature2
    checkout feature2
    commit id: "qrst"
    commit id: "uvwx"
    checkout main
    merge feature2 id: "punx (0.14.2)"
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>However, a pattern often emerges where more than one feature in a particular release is desired and, because we release directly to <code>main</code>, the graph looks like a thundercloud:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">gitGraph
    commit id: "abcd"
    commit id: "efgh (0.14.0)"
    branch feature1
    checkout main
    checkout feature1
    commit id: "ijkl"
    commit id: "mnop"
    branch feature2
    checkout feature2
    commit id: "qrst"
    checkout feature1
    commit id: "uvwx"
    checkout feature2
    commit id: "yz12"
    checkout feature1
    merge feature2 id: "xu12"
    checkout main
    merge feature1 id: "gpxe (0.14.1)"
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>The problem with the second graph is that, as the number of extra features grows, the size of the PR that will be the release becomes larger and larger. Moreover, the exact changes that were needed in the original PR are mixed in with all the changes from the child branches, meaning that it is more difficult to retrospectively review that PR.</p>
</section><section class="level3"><h3 id="after">After the R-Universe<a class="anchor" aria-label="anchor" href="#after"></a>
</h3>
<p>With the R-universe, builds can be pinned to Releases on specific tags, which can give a git graph that looks similar to <a href="#before">the first graph</a>, but it can also <strong>allow developers to work in parallel</strong> on independent features, allowing users to intermittently test these features by installing from the default branch in GitHub.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">gitGraph
    commit id: "abcd"
    commit id: "efgh" tag: "0.14.0"
    branch feature1
    branch feature2
    checkout main
    checkout feature1
    commit id: "ijkl"
    commit id: "mnop"
    checkout main
    checkout feature2
    commit id: "qrst"
    commit id: "uvwx"
    checkout main
    merge feature1 id: "gpne"
    merge feature2 id: "punx"
    branch release
    checkout release
    commit id: "2zy1"
    checkout main
    merge release id: "1u2n" tag: "0.14.1"
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section></section><section class="level2"><h2 id="versioning">Versioning<a class="anchor" aria-label="anchor" href="#versioning"></a>
</h2>
<p>The hubverse is built using very basic semantic versioning using the <code>X.Y.Z[.9000]</code> pattern. If we take <a href="#after">the previous git graph</a> and labelled the version number, you can see how the first release in our graph was a minor release, followed by a patch release. Everything that has <a href="#dev">a <code>.9000</code> attached is considered in-development</a>. Read below for details and examples of each of these semantic versions:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">gitGraph
    commit id: "abcd (0.13.2.9000)"
    commit id: "efgh (0.14.0)" tag: "0.14.0"
    branch feature1
    branch feature2
    checkout main
    checkout feature1
    commit id: "ijkl (0.14.0.9000)"
    commit id: "mnop (0.14.0.9000)"
    checkout main
    checkout feature2
    commit id: "qrst (0.14.0.9000)"
    commit id: "uvwx (0.14.0.9000)"
    checkout main
    merge feature1 id: "gpne (0.14.0.9000)"
    merge feature2 id: "punx (0.14.0.9000)"
    branch release
    checkout release
    commit id: "2zy1 (0.14.1)"
    checkout main
    merge release id: "1u2n (1.14.1)" tag: "0.14.1"
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<dl>
<dt><span id="major"><code>X</code></span></dt>
<dd>
<strong>Major version number</strong>: this version number will change if there are significant breaking changes to any of the user-facing workflows. That is, if a change requires users to modify their scripts, then it is a breaking change.<br><strong>EXAMPLE</strong>: There are no examples of hubverse packages undergoing a major version change, but <a href="https://github.com/hubverse-org/schemas/releases/tag/v3.0.0" class="external-link">schemas v3.0.0</a> included the breaking change of switching <code>sample/output_type_id</code> (an array) to <code>sample/output_type_id_params</code> (an object). The breaking change meant that it was a non-trivial task to switch from a <code>v2.0.1</code> schema to <code>v3.0.0</code> and the users. This was reflected in the month-long timeline between <a href="https://github.com/orgs/hubverse-org/discussions/13" class="external-link">the announcement of the change on 2024-05-13</a> to the actual release on 2024-06-18.
</dd>
<dt><span id="minor"><code>Y</code></span></dt>
<dd>
<strong>Minor version number</strong>: this version number will change if there are new features or enhanced behaviors available to the users in a way that <em>does not affect how users who do not need the new features use the package</em>. This number grows the fastes in early stages of development.<br><strong>EXAMPLE</strong>: The <a href="https://hubverse-org.github.io/hubValidations/news/index.html#hubvalidations-050" class="external-link"><code>{hubValidations}</code> package version 0.5.0</a> gives users the ability to reduce compute time by allowing them to sub-set the configuration by the new <code>output_type</code> argument to <code>expand_model_out_grid()</code>. Users who change nothing in their workflows or scripts will not see any change for the better or worse.
</dd>
<dt><span id="patch"><code>Z</code></span></dt>
<dd>
<strong>Patch version number</strong>: this version number will change if something that was previously broken was fixed, but no new features have been added.<br><strong>EXAMPLE</strong>: the <code>{hubAdmin}</code> package needed an enhancement for schema version 3.0.1, which removed the requirements for <code>CDF</code> outputs to have a specific pattern. <a href="https://github.com/hubverse-org/hubAdmin/pull/29/files#diff-c55622c612385015eaf6d6c2a48e72daae1caa20c58b9531493d74cbaf903f96" class="external-link">The actual fix was not something a user would interact with</a>, so <a href="https://hubverse-org.github.io/hubAdmin/news/index.html#hubadmin-101" class="external-link">version 1.0.1</a> was a patch release.
</dd>
<dt><span id="dev"><code>9000</code></span></dt>
<dd>
<p><strong>Development version indicator</strong>: this version number indicates that the package is in a development state and has the potential to change. When its on the <code>main</code> branch, it indicates that the features or patches introduced have been reviewed and tested. This version is <em>appended after every successful release</em>. When this development version indicator exists, the documentation site will have an extra <code>dev/</code> directory that contains the upcoming changes so that we can continue to develop the hubverse without disrupting the regular documentation flow. Advice on incrementing the version number from <a href="https://r-pkgs.org/lifecycle.html#sec-lifecycle-version-number-tidyverse" class="external-link">The R Packages Book (Wickham and Bryan, 2023)</a>:</p>
<blockquote>
<p>Increment the development version, e.g. from 9000 to 9001, if you’ve added an important feature and you (or others) need to be able to detect or require the presence of this feature. For example, this can happen when two packages are developing in tandem. This is generally the only reason that we bother to increment the development version. This makes in-development versions special and, in some sense, degenerate. Since we don’t increment the development component with each Git commit, the same package version number is associated with many different states of the package source, in between releases.</p>
</blockquote>
</dd>
</dl></section><section class="level2"><h2 id="release-process">Release Process<a class="anchor" aria-label="anchor" href="#release-process"></a>
</h2>
<p>When a package is ready for release we use The Release Checklist (detailed in <code><a href="../articles/release-checklists.html">vignette("release-checklists", package = "hubDevs")</a></code>). The rationale for this process is described in <a href="https://github.com/orgs/hubverse-org/discussions/29" class="external-link">The proposal discussion for R package release guidelines</a>.</p>
<section class="level3"><h3 id="non-urgent-releases-only">Non-urgent releases only<a class="anchor" aria-label="anchor" href="#non-urgent-releases-only"></a>
</h3>
<p>This release process assumes that we have accumulated bugfixes and/or features in the <code>main</code> branch, which we are ready to release. If you have a bug that needs to be patched <em>immediately</em> and you have new features in the main branch that are not yet released, then you should <a href="hotfixes">create a hotfix</a> instead.</p>
</section><section class="level3"><h3 id="releases">Releases<a class="anchor" aria-label="anchor" href="#releases"></a>
</h3>
<p>Releases are a concept that is specific for GitHub. Under the hood, releases are created from commits or tags. When you use the GitHub web interface, you can choose to have a tag automatically created from a release (though the tag will not be annotated or signed, see below for creating stronger, signed tags). All releases should contain a summary of the changes that happened between this version and the previous version. A good example of this are <a href="https://github.com/hubverse-org/schemas/releases" class="external-link">the hubverse schema release notes</a>, and GitHub offers to automatically fill the release notes with titles and links to the pull requests that populated the release, which is a good summary (assuming people create good PR titles).</p>
<p>Once the release is created on GitHub, then the package will be available on the R-Universe in about an hour or less.</p>
<section class="level4"><h4 id="signed-tags">Signed Tags<a class="anchor" aria-label="anchor" href="#signed-tags"></a>
</h4>
<p>It is good practice to create a tag to release from so that we have a way to track the releases even if we eventually move away from GitHub. Better practice is to create <em>annotated</em> tags with the <code>-a</code> flag, which adds metadata to the tag, meaning that it cannot be moved. Even better practice is to create <em>signed</em> tags with the <code>-s</code> flag, which adds a cryptographic signature to the annotated tag metadata that allows anyone to verify that it came from your computer and not someone pretending to be you.</p>
<p>Zhian likes to create tags via the command line because he has set up his git configuration to use <a href="https://gist.github.com/phortuin/cf24b1cca3258720c71ad42977e1ba57" class="external-link">a gpg signature</a> so the tags and the releases are both verified. Recently, Git and GitHub added support for <a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/about-commit-signature-verification#ssh-commit-signature-verification" class="external-link">creating signatures via an SSH key</a>, which is <em>a lot</em> more approchable than GPG.</p>
<p>Unfortunately, you cannot create a signed tag on the GitHub web interface and it must be done locally.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> tag <span class="at">-s</span> X.Y.Z <span class="at">-m</span> <span class="st">'summary of changes'</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">--tags</span></span></code></pre></div>
<p>Once you have a signed tag created, you can then go to the Releases tab on GitHub and create the release (or you can use the <code>gh</code> CLI utility and run <code>gh release create X.Y.Z</code> to interactively create the release).</p>
</section></section><section class="level3"><h3 id="releasing-to-cran">Releasing to CRAN<a class="anchor" aria-label="anchor" href="#releasing-to-cran"></a>
</h3>
<p>Releasing a package on CRAN is a relatively straightforward process that takes 5 minutes on your part as the maintainer. The time between sending your package to CRAN and the time it becomes available to the public usually ranges anywhere from 30 minutes to two or three days, depending on volume and feedback from CRAN maintainers. Because CRAN submissions are often a back and forth process, you should not tag your release until you have confirmed that CRAN has accepted the submission.</p>
<p>Some tips for CRAN submissions:</p>
<ul>
<li><p>Your first submission will likely take the longest (see <a href="https://r-pkgs.org/release.html#sec-release-initial" class="external-link">Chapter 22 of R Packages by Wickham and Bryan</a>)</p></li>
<li><p>Don’t use the webform; use <a href="https://devtools.r-lib.org/reference/release.html" class="external-link"><code>devtools::release()</code></a></p></li>
<li>
<p>Remove the <code>Remotes:</code> items in the DESCRIPTION with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="st">''</span> <span class="at">-E</span> <span class="at">-e</span> <span class="st">'/(Remotes:|  hubverse-org)/d'</span> DESCRIPTION</span></code></pre></div>
<p>(you will restore this later with <code>git restore DESCRIPTION</code>). <a class="footnote-ref" role="doc-noteref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;You will get a warning from devtools saying that all files should be tracked and committed before release. Double check that all that changed was removing the &lt;code&gt;Remotes:&lt;/code&gt; field from the DESCRIPTION and proceed.&lt;/p&gt;"><sup>1</sup></a></p>
</li>
<li><p>Commit the <code>CRAN_SUBMISSION</code> file when it changes</p></li>
<li><p>There is a missing stair that can make submissions unpleasant. If you get a nasty review from Ripley, contact one of the other hubverse maintainers for backup/strategy/comiseration.</p></li>
</ul></section></section><section class="level2"><h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a>
</h2>
<p>Packages will exist in two states: released and stable development. Both of these states need to pass checks (both <code>R CMD check</code> and test coverage tests), but the challenge with two versions becomes: how do you ensure both versions work with both versions of the other packages?</p>
<p>The strategy is three-fold:</p>
<ul>
<li>All packages in development are tested against development packages. It is important to remember that development versions must also not introduce breaking changes. Testing breaking changes should be performed in a separate branch.</li>
<li>On release/hotfix, pull request, all packages are tested against the released packages to ensure no regressions.</li>
<li>All packages (released and devel) are tested weekly. This helps to avoid surprise reverse-dependency problems.</li>
</ul>
<p>Testing against the development versions of packages is achieved by setting <a href="https://r-pkgs.org/dependencies-in-practice.html#sec-dependencies-nonstandard" class="external-link">the <code>Remotes:</code> section in your DESCRIPTION file</a>; this ensures that when dependencies are installed for the GitHub workflow run, the hubverse dependencies are installed from GitHub and not the R-universe.</p>
<p>During releases and hotfixes (detected by checking that the branch name contains either <code>/release/</code> or <code>/hotfix/</code>, the remote declarations of hubverse packages are removed (before the dependencies are installed) with the command <code>sed -i "" -E -e '/[ ][ ]hubverse-org/d' DESCRIPTION</code>.</p>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anna Krystalli, Zhian N. Kamvar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1. PR Previews built by <a href="https://www.netlify.com" class="external-link">Netlify</a>. Provided without <strong>any warranty</strong>.</p>
</div>

    </footer>
</div>





  </body>
</html>
